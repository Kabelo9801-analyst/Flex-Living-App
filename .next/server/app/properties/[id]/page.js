(()=>{var e={};e.id=562,e.ids=[562],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3977:e=>{"use strict";e.exports=require("node:fs/promises")},9411:e=>{"use strict";e.exports=require("node:path")},4956:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c}),s(5838),s(1506),s(5866);var i=s(3191),a=s(8716),n=s(7922),r=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["properties",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5838)),"/Users/kvbiila/Downloads/flex-living-reviews-dashboard/app/properties/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"/Users/kvbiila/Downloads/flex-living-reviews-dashboard/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/kvbiila/Downloads/flex-living-reviews-dashboard/app/properties/[id]/page.tsx"],u="/properties/[id]/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new i.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/properties/[id]/page",pathname:"/properties/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5752:()=>{},9870:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5303:()=>{},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>a});var i=s(9510);s(7272);let a={title:"Flex Living – Reviews Dashboard",description:"Assess per‑property performance based on guest reviews"};function n({children:e}){return i.jsx("html",{lang:"en",children:(0,i.jsxs)("body",{children:[i.jsx("header",{className:"border-b border-slate-800/80 bg-slate-900 sticky top-0 z-10",children:(0,i.jsxs)("div",{className:"container flex items-center justify-between h-14",children:[i.jsx("a",{href:"/",className:"font-semibold tracking-wide",children:"Flex Living • Reviews"}),(0,i.jsxs)("nav",{className:"flex gap-4 text-sm",children:[i.jsx("a",{className:"hover:underline",href:"/dashboard",children:"Dashboard"}),i.jsx("a",{className:"hover:underline",href:"/properties/1001",children:"Property page"}),i.jsx("a",{className:"hover:underline",href:"https://developers.google.com/maps/documentation/places/web-service/place-details",target:"_blank",children:"Google Reviews"})]})]})}),i.jsx("main",{className:"container py-6",children:e}),i.jsx("footer",{className:"container py-10 text-xs text-slate-400",children:"Made for the Flex Living assignment. Next.js + TailwindCSS."})]})})}},5838:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var i=s(9510),a=s(3977),n=s.n(a),r=s(9411),l=s.n(r),o=s(5327);async function c(){try{let e=await n().readFile(l().join(process.cwd(),"data","approved.json"),"utf-8");return JSON.parse(e)}catch{return{}}}async function d(){return JSON.parse(await n().readFile(l().join(process.cwd(),"data","mockReviews.json"),"utf-8"))}async function u({params:e}){let t=Number(e.id),s=await d(),a=await c(),n=s.filter(e=>Number(e.listingMapId)===t).map(e=>(0,o.T8)(e,a)).filter(e=>e.approved),r=n[0]?.listingName||`Listing ${t}`;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("section",{className:"rounded-xl overflow-hidden border border-slate-800",children:[i.jsx("div",{className:"h-56 bg-[url('https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?q=80&w=1200&auto=format&fit=crop')] bg-cover bg-center"}),(0,i.jsxs)("div",{className:"p-5 bg-slate-800/50",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:r}),i.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"2 guests \xb7 1 bed \xb7 1 bath \xb7 WiFi \xb7 Kitchen"})]})]}),(0,i.jsxs)("section",{className:"grid md:grid-cols-3 gap-6",children:[(0,i.jsxs)("div",{className:"md:col-span-2 card space-y-3",children:[i.jsx("h2",{className:"text-xl font-medium",children:"About this place"}),i.jsx("p",{className:"text-slate-300",children:"Thoughtfully designed apartment with everything for a comfortable mid-stay. Walk to caf\xe9s and transport. Self check-in via lockbox."}),(0,i.jsxs)("ul",{className:"grid grid-cols-2 gap-x-6 text-sm text-slate-300 pt-2",children:[i.jsx("li",{children:"• Excellent location"}),i.jsx("li",{children:"• Fully equipped kitchen"}),i.jsx("li",{children:"• High-speed WiFi"}),i.jsx("li",{children:"• Professionally cleaned"})]})]}),(0,i.jsxs)("div",{className:"card",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Key details"}),(0,i.jsxs)("ul",{className:"text-sm text-slate-300 space-y-1",children:[i.jsx("li",{children:"Check-in: 3:00 PM"}),i.jsx("li",{children:"Check-out: 11:00 AM"}),i.jsx("li",{children:"Cancellation: Flexible"})]})]})]}),(0,i.jsxs)("section",{className:"card space-y-3",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-medium",children:"Guest reviews"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Only approved reviews are shown"})]}),0===n.length?i.jsx("p",{className:"text-slate-400 text-sm",children:"No approved reviews yet."}):i.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:n.map(e=>(0,i.jsxs)("article",{className:"border border-slate-700 rounded-lg p-4",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("div",{className:"font-medium",children:e.author||"Guest"}),(0,i.jsxs)("div",{className:"text-sm",children:["⭐ ",e.rating??"—"]})]}),i.jsx("p",{className:"text-slate-200",children:e.text}),(0,i.jsxs)("div",{className:"mt-2 text-xs text-slate-400",children:[new Date(e.publishedAt).toLocaleDateString()," \xb7 ",e.channel]})]},e.id))})]})]})}},5327:(e,t,s)=>{"use strict";s.d(t,{dU:()=>p,Uf:()=>h,T8:()=>u});let i={2005:"Airbnb",2001:"Booking.com",2010:"Vrbo",2007:"Hostaway",2002:"Expedia",2013:"Marriott"},a=e=>e||0===e?i[e]||`Channel ${e}`:"Unknown",n=["great","amazing","awesome","clean","spotless","friendly","helpful","perfect","excellent","fantastic","spacious","cozy","quiet","recommend","comfortable","love"],r=["bad","dirty","smell","noisy","rude","terrible","awful","disappoint","broken","unsafe","issue","problem","bug","delay","poor","worst"];function l(e){let t=(e||"").toLowerCase(),s=0;for(let e of n)t.includes(e)&&(s+=1);for(let e of r)t.includes(e)&&(s-=1);let i=s>0?"positive":s<0?"negative":"neutral";return{score:s,label:i}}let o={Cleanliness:["clean","spotless","dirty","dust","smell","stain"],Communication:["communication","responsive","respond","quick","host"],"Check-in":["check-in","checkin","self check","lockbox","code"],Accuracy:["accurate","exactly as","as described","misleading"],Location:["location","area","neighborhood","central","walk","metro"],Value:["value","price","worth"],Amenities:["amenities","kitchen","coffee","towels","hairdryer","washer","dryer"],Noise:["noise","noisy","quiet","street","traffic"],WiFi:["wifi","wi-fi","internet","speed"],Comfort:["bed","comfortable","mattress","pillow","sofa","shower"],Parking:["parking","garage","park"],Host:["host","helpful","friendly","rude"],Heating:["heating","heater","radiator"],AC:["ac","air conditioning","aircon"],Safety:["safe","unsafe","security"]},c=e=>{if(!e)return new Date(0).toISOString();let t=new Date(e);return isNaN(t.getTime())?new Date(0).toISOString():t.toISOString()},d=e=>null==e?null:Math.round(10*Math.max(1,Math.min(5,Number(e))))/10;function u(e,t){let s=(e.publicReview||e.privateFeedback||"").toString().trim(),i=m(s),n=l(s),r=`hostaway:${e.id}`;return{id:r,source:"hostaway",listingId:e.listingMapId,listingName:e.listingName||`Listing ${e.listingMapId}`,channel:a(e.channelId),reviewType:e.type,status:e.status,rating:d(e.rating),title:null,text:s,language:e.language||null,publishedAt:c(e.departureDate||e.arrivalDate),author:e.guestName||null,categories:i,sentiment:n,approved:!!t[r],url:null}}function h(e,t,s,i,a={}){let n=`google:${e.name||e.reviewId||e.createTime}`,r=e.text?.text||e.text||"",o=m(r),u=l(r);return{id:n,source:"google",listingId:t,listingName:s,channel:"Google",rating:d(e.rating),title:null,text:r,language:e.originalText?.languageCode||e.languageCode||null,publishedAt:c(e.createTime||e.relativePublishTimeDescription),author:e.authorAttribution?.displayName||null,categories:o,sentiment:u,approved:!!a[n],url:e.authorAttribution?.uri||i||null}}function p(e){let t={};for(let s of e){let e=String(s.listingId);t[e]||(t[e]={listingId:s.listingId,listingName:s.listingName,count:0,avgRating:null,posPct:0,negPct:0,latest:null,channels:{},topIssues:[]});let i=t[e];if(i.count+=1,null!=s.rating){let e=(i.avgRating||0)*(i.count-1)+s.rating;i.avgRating=Math.round(e/i.count*100)/100}let a=new Date(s.publishedAt).toISOString();(!i.latest||a>i.latest)&&(i.latest=a),i.channels[s.channel]=(i.channels[s.channel]||0)+1}for(let s of Object.keys(t)){let i={},a=e.filter(e=>String(e.listingId)===s).length,n=0,r=0;for(let t of e.filter(e=>String(e.listingId)===s))for(let e of("positive"===t.sentiment.label&&n++,"negative"===t.sentiment.label&&r++,t.categories))i[e]=(i[e]||0)+1;t[s].posPct=a?Math.round(n/a*100):0,t[s].negPct=a?Math.round(r/a*100):0,t[s].topIssues=Object.entries(i).sort((e,t)=>t[1]-e[1]).slice(0,3).map(([e,t])=>({category:e,count:t}))}let s=e.map(e=>e.rating).filter(e=>null!=e);return{byListing:t,overall:{total:e.length,avgRating:s.length?Math.round(s.reduce((e,t)=>e+t,0)/s.length*100)/100:null,posPct:e.length?Math.round(e.filter(e=>"positive"===e.sentiment.label).length/e.length*100):0,negPct:e.length?Math.round(e.filter(e=>"negative"===e.sentiment.label).length/e.length*100):0}}}function m(e){let t=(e||"").toLowerCase(),s=[];for(let[e,i]of Object.entries(o))i.some(e=>t.includes(e))&&s.push(e);return Array.from(new Set(s))}},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[276,471],()=>s(4956));module.exports=i})();